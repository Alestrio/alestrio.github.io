<!doctype html><html lang=fr itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.svg><title>Modding d’un drone chinois (Eachine E58) - Alestrio
</title><meta name=description content="J’ai récemment fait l’acquisition d’un petit drone chinois à 60€. J’en suis plutôt content, la qualité vidéo est correcte (1080p), il va plutôt haut, il est rapide, et il y a moyen de s’amuser à faire des figures. Néanmoins, il y a quelques points négatifs. En effet, tout d’abord, même une fois bien trimé, ce drone a toujours tendance à se déplacer tout seul, et son autonomie est vraiment faible. Jusque là, je m’y était fait, et cela ne me posais pas vraiment de problèmes : j’arrivais toujours à me débrouiller pour faire quelques plans sympa."><meta name=author content="Alexis LEBEL"><meta name=generator content="Hugo 0.129.0"><link rel=stylesheet href="https://www.alexislebel.fr/css/styles.min.bc90fa55d1ba6b52213b3c8bedc8b3ffc8578d91dcd3927072f8e1c7e7cc77cf.css"><meta property="og:url" content="https://www.alexislebel.fr/fr/blog/chinese_drone_modding/"><meta property="og:site_name" content="Alestrio"><meta property="og:title" content="Modding d’un drone chinois (Eachine E58)"><meta property="og:description" content="J’ai récemment fait l’acquisition d’un petit drone chinois à 60€. J’en suis plutôt content, la qualité vidéo est correcte (1080p), il va plutôt haut, il est rapide, et il y a moyen de s’amuser à faire des figures. Néanmoins, il y a quelques points négatifs. En effet, tout d’abord, même une fois bien trimé, ce drone a toujours tendance à se déplacer tout seul, et son autonomie est vraiment faible. Jusque là, je m’y était fait, et cela ne me posais pas vraiment de problèmes : j’arrivais toujours à me débrouiller pour faire quelques plans sympa."><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2020-08-02T00:00:00+00:00"><meta property="article:modified_time" content="2020-08-02T00:00:00+00:00"><meta property="article:tag" content="Chinois"><meta property="article:tag" content="Drone"><meta property="article:tag" content="Modding"><meta name=twitter:card content="summary"><meta name=twitter:title content="Modding d’un drone chinois (Eachine E58)"><meta name=twitter:description content="J’ai récemment fait l’acquisition d’un petit drone chinois à 60€. J’en suis plutôt content, la qualité vidéo est correcte (1080p), il va plutôt haut, il est rapide, et il y a moyen de s’amuser à faire des figures. Néanmoins, il y a quelques points négatifs. En effet, tout d’abord, même une fois bien trimé, ce drone a toujours tendance à se déplacer tout seul, et son autonomie est vraiment faible. Jusque là, je m’y était fait, et cela ne me posais pas vraiment de problèmes : j’arrivais toujours à me débrouiller pour faire quelques plans sympa."><meta itemprop=name content="Modding d’un drone chinois (Eachine E58)"><meta itemprop=description content="J’ai récemment fait l’acquisition d’un petit drone chinois à 60€. J’en suis plutôt content, la qualité vidéo est correcte (1080p), il va plutôt haut, il est rapide, et il y a moyen de s’amuser à faire des figures. Néanmoins, il y a quelques points négatifs. En effet, tout d’abord, même une fois bien trimé, ce drone a toujours tendance à se déplacer tout seul, et son autonomie est vraiment faible. Jusque là, je m’y était fait, et cela ne me posais pas vraiment de problèmes : j’arrivais toujours à me débrouiller pour faire quelques plans sympa."><meta itemprop=datePublished content="2020-08-02T00:00:00+00:00"><meta itemprop=dateModified content="2020-08-02T00:00:00+00:00"><meta itemprop=wordCount content="792"><meta itemprop=keywords content="Chinois,Drone,Modding"><meta name=lang content="fr"></head><body class="dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative"><a href=https://www.alexislebel.fr/fr/ class="capitalize font-extrabold text-2xl">Alestrio
</a><button class="mobile-menu-button md:hidden"><svg width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="8" x2="20" y2="8"/><line x1="4" y1="16" x2="20" y2="16"/></svg></button><ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-white dark:bg-gray-800"><li><a href=/fr/blog>Blog</a></li><li><a href=/fr/page/about/>A propos de moi</a></li><li><a href=/fr/page/legal>Mentions légales</a></li><li class="flex items-center"><svg class="mr-2" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><line x1="3.6" y1="9" x2="20.4" y2="9"/><line x1="3.6" y1="15" x2="20.4" y2="15"/><path d="M11.5 3a17 17 0 000 18"/><path d="M12.5 3a17 17 0 010 18"/></svg>
<a href=/en/ lang=en>English</a></li><li class="grid place-items-center"><span class="toggle-dark-mode inline-block cursor-pointer"><svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="3"/><line x1="12" y1="5" x2="12" y2="5.01"/><line x1="17" y1="7" x2="17" y2="7.01"/><line x1="19" y1="12" x2="19" y2="12.01"/><line x1="17" y1="17" x2="17" y2="17.01"/><line x1="12" y1="19" x2="12" y2="19.01"/><line x1="7" y1="17" x2="7" y2="17.01"/><line x1="5" y1="12" x2="5" y2="12.01"/><line x1="7" y1="7" x2="7" y2="7.01"/></svg></span></li></ul></header><main class=flex-1><div class="relative max-w-5xl mx-auto px-4"><img src=/images/2020/02/eachine.jpg class="rounded-lg shadow-sm w-full object-contain"><div class="absolute top-4 right-8 rounded shadow bg-white text-gray-900 dark:bg-gray-900 dark:text-white px-2 py-0.5">02. Août 2020</div></div><article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4"><h1 class="text-2xl font-bold mb-2">Modding d’un drone chinois (Eachine E58)</h1><h5 class="text-sm flex items-center flex-wrap"><svg class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="5" width="16" height="16" rx="2"/><line x1="16" y1="3" x2="16" y2="7"/><line x1="8" y1="3" x2="8" y2="7"/><line x1="4" y1="11" x2="20" y2="11"/><rect x="8" y="15" width="2" height="2"/></svg>
Posté le
02. Août 2020
&nbsp;&bull;&nbsp;
<svg class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
4&nbsp;minutes
&nbsp;&bull;
<svg class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 19a9 9 0 019 0 9 9 0 019 0"/><path d="M3 6a9 9 0 019 0 9 9 0 019 0"/><line x1="3" y1="6" x2="3" y2="19"/><line x1="12" y1="6" x2="12" y2="19"/><line x1="21" y1="6" x2="21" y2="19"/></svg>
792&nbsp;mots</h5><p>J’ai récemment fait l’acquisition d’un petit drone chinois à 60€. J’en suis plutôt content, la qualité vidéo est correcte (1080p), il va plutôt haut, il est rapide, et il y a moyen de s’amuser à faire des figures. Néanmoins, il y a quelques points négatifs. En effet, tout d’abord, même une fois bien trimé, ce drone a toujours tendance à se déplacer tout seul, et son autonomie est vraiment faible.
Jusque là, je m’y était fait, et cela ne me posais pas vraiment de problèmes : j’arrivais toujours à me débrouiller pour faire quelques plans sympa.</p><h1 id=lélément-déclencheur>L’élément déclencheur</h1><p>Et un jour (le drama !), par curiosité, je lance un petit scan wifi sur le réseau créé par le drone. Il s’avère qu’il fonctionne sur une puce Espressif ! Il se trouve que je bidouille beaucoup avec des ESP32 et 8266, du coup je suis un peu familier avec ces technos.</p><p>Alors pour continuer dans mon insatiable curiosité, je démonte le drone pour m’apercevoir qu’il s’agissait d’un microcontrôleur, mais que je ne connaissais pas. D’ailleurs, plutôt difficile à reprogrammer, surtout parce que le firmware de ce drone n’est pas fourni par le fabricant.</p><h1 id=lanalyse-des-trames>L’analyse des trames</h1><p>Du coup, pour trouver comment fonctionne ce drone, j’ai lancé mon analyseur de packets, et je me suis connecté au réseau du drone. Il s’avère donc que l’application envoie et reçois trois types de packets.</p><ul><li>Sur le port 5000 : Commandes de contrôle du drone</li><li>Sur le port 7060 : Requête et envoi de la vidéo</li><li>Sur le port 8060 : Vidéo aussi</li></ul><p>J’ai ensuite analysé les packets pour découvrir que l’application envoie une commande : “lewei_cmd”. Une petite recherche sur Google m’a permis de trouver cet article de blog : <a href=https://blog.horner.tj/hacking-chinese-drones-for-fun-and-no-profit/ target=_blank rel=noopener>https://blog.horner.tj/hacking-chinese-drones-for-fun-and-no-profit/</a>
qui m’a beaucoup servi. Petit TL;DR ci dessous :</p><pre tabindex=0><code>1st byte – Header: 66 \
2nd byte – Left/right movement (0-254, with 128 being neutral) \
3rd byte – Forward/backward movement (0-254, with 128 being neutral) \
4th byte – Throttle (elevation) (0-254, with 128 being neutral) \
5th byte – Turning movement (0-254, with 128 being neutral) \
6th byte – Reserved for commands (0 = no command) \
7th byte – Checksum (XOR of bytes 2, 3, 4, and 5) \
8th byte – Footer: 99
</code></pre><p>blog.horner.tj</p><p>En plus, cette personne à créé une bibliothèque en node.js pour contrôler ce type de drone qui marche à merveille !</p><h1 id=il-est-temps-de-modder>Il est temps de modder</h1><p>Plein d’idées de bidouilles en tout genre, je suis parti faire quelques achats sur Aliexpress. L’objectif ? Un module accéléromètre pour corriger les problèmes de mouvement incontrôlés du drone. J’avais déjà une idée de la carte de commande, une petite carte que javais déjà en ma possession : une WEMOS D1 Mini. Ensuite, il fallait penser à l’alimentation. J’ai donc acheté un shield pour batterie Li-Po, et une batterie Li-Po (sans blague) de 300mAh. Après un énorme calcul savant (une division), j’en ai conclu qu’une batterie de ce genre pouvait alimenter la carte de contrôle plus de 2000h à puissance max (sans accéléromètre). enfin, j’ai acheté un petit accéléromètre tout simple mais assez précis. (spoiler : pas assez :p)</p><p>L’idée était assez simple, installer un petit module qui détecte le mouvement du drone et envoyer ces informations au serveur node.js qui corrigera le mouvement. Forcément, la commande devra aussi se faire via le serveur, de façon à ce que celui-ci ne corrige pas le mouvement que que je demande au drone.</p><p>Après quelques manips, je me suis rendu compte que la D1 mini n’avait qu’un seul port analogique.. C’est balot quand il en faut trois pour utiliser l’accéléromètre. D’ailleurs l’accéléromètre, il fonctionne très bien, mais pour les grosse accélérations ou pour les accélérations statiques. Du coup, pour les toutes petites accélérations du drone, c’est un peu light en terme de sensibilité. Et là deux solutions :</p><p>Ouvrir le drone et récupérer le signal de l’accéléromètre inclus dans la carte électronique, autant dire que si le module est soudé en SMD, c’est mort.
Racheter un accéléromètre plus sensible
<strong>Conclusion</strong> : ben là, je suis bloqué, mais je travaille toujours dessus ! Du coup, cet article est split en deux parties (la deuxième sera peut être mise dans loooooontemps) afin que je puisse publier cette partie ! 😀</p><h1 id=conclusion>Conclusion</h1><p>Pour conclure, j’ai déjà bien avancé sur ce projet, la partie commande est déjà assez bien comprise et la pratique n’est qu’une question de temps. D’ailleurs, pendant que je faisait mes manips, je me suis dit que passer par un serveur externe pour faire tout ça était assez lourd, du coup, tout le traitement devrait se faire sur le microcontrôleur, ce qui, d’emblée, éliminerait un élément de la chaine de contrôle ! Bref, projet à suivre ! Bonne bidouille à tous ! 😀</p></article><div class="bg-blue-200 dark:bg-gray-900"><div class="container px-4 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center"><div><div class="text-2xl font-bold mb-2">Follow me</div><p class=opacity-60>Passion-driven engineering student</p></div><ul class="flex justify-center gap-x-3 flex-wrap gap-y-2"></ul></div></div></main><footer class="container p-6 mx-auto flex justify-between items-center"><span class="text-sm font-light">Copyright © 2025 - Alexis LEBEL · All rights reserved
</span><span onclick='window.scrollTo({top:0,behavior:"smooth"})' class="p-1 cursor-pointer"><svg width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 15l-6-6-6 6h12"/></svg></span></footer><script>const darkmode=document.querySelector(".toggle-dark-mode");function toggleDarkMode(){document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("darkmode","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("darkmode","dark"))}darkmode&&darkmode.addEventListener("click",toggleDarkMode);const darkStorage=localStorage.getItem("darkmode"),isBrowserDark=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;!darkStorage&&isBrowserDark&&document.documentElement.classList.add("dark"),darkStorage&&darkStorage==="dark"&&toggleDarkMode()</script><script>const mobileMenuButton=document.querySelector(".mobile-menu-button"),mobileMenu=document.querySelector(".mobile-menu");function toggleMenu(){mobileMenu.classList.toggle("hidden"),mobileMenu.classList.toggle("flex")}mobileMenu&&mobileMenuButton&&mobileMenuButton.addEventListener("click",toggleMenu)</script></body></html>