<!doctype html><html lang=fr itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.svg><title>Connecter un portail électrique - Alestrio
</title><meta name=description content="Comment rendre un portail électrique connecté"><meta name=author content="Alexis LEBEL"><meta name=generator content="Hugo 0.129.0"><link rel=stylesheet href="https://www.alexislebel.fr/css/styles.min.bc90fa55d1ba6b52213b3c8bedc8b3ffc8578d91dcd3927072f8e1c7e7cc77cf.css"><meta property="og:url" content="https://www.alexislebel.fr/fr/blog/connect_gate/"><meta property="og:site_name" content="Alestrio"><meta property="og:title" content="Connecter un portail électrique"><meta property="og:description" content="Comment rendre un portail électrique connecté"><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-01-01T00:00:00+00:00"><meta property="article:modified_time" content="2021-01-01T00:00:00+00:00"><meta property="article:tag" content="IoT"><meta name=twitter:card content="summary"><meta name=twitter:title content="Connecter un portail électrique"><meta name=twitter:description content="Comment rendre un portail électrique connecté"><meta itemprop=name content="Connecter un portail électrique"><meta itemprop=description content="Comment rendre un portail électrique connecté"><meta itemprop=datePublished content="2021-01-01T00:00:00+00:00"><meta itemprop=dateModified content="2021-01-01T00:00:00+00:00"><meta itemprop=wordCount content="1008"><meta itemprop=keywords content="IoT"><meta name=lang content="fr"></head><body class="dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative"><a href=https://www.alexislebel.fr/fr/ class="capitalize font-extrabold text-2xl">Alestrio
</a><button class="mobile-menu-button md:hidden"><svg width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="8" x2="20" y2="8"/><line x1="4" y1="16" x2="20" y2="16"/></svg></button><ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-white dark:bg-gray-800"><li><a href=/fr/blog>Blog</a></li><li><a href=/fr/page/about/>A propos de moi</a></li><li><a href=/fr/page/legal>Mentions légales</a></li><li class="flex items-center"><svg class="mr-2" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><line x1="3.6" y1="9" x2="20.4" y2="9"/><line x1="3.6" y1="15" x2="20.4" y2="15"/><path d="M11.5 3a17 17 0 000 18"/><path d="M12.5 3a17 17 0 010 18"/></svg>
<a href=/en/ lang=en>English</a></li><li class="grid place-items-center"><span class="toggle-dark-mode inline-block cursor-pointer"><svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="3"/><line x1="12" y1="5" x2="12" y2="5.01"/><line x1="17" y1="7" x2="17" y2="7.01"/><line x1="19" y1="12" x2="19" y2="12.01"/><line x1="17" y1="17" x2="17" y2="17.01"/><line x1="12" y1="19" x2="12" y2="19.01"/><line x1="7" y1="17" x2="7" y2="17.01"/><line x1="5" y1="12" x2="5" y2="12.01"/><line x1="7" y1="7" x2="7" y2="7.01"/></svg></span></li></ul></header><main class=flex-1><div class="relative max-w-5xl mx-auto px-4"><img src=/images/2020/12/automate_1hc.jpg class="rounded-lg shadow-sm w-full object-contain"><div class="absolute top-4 right-8 rounded shadow bg-white text-gray-900 dark:bg-gray-900 dark:text-white px-2 py-0.5">01. Janvier 2021</div></div><article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4"><h1 class="text-2xl font-bold mb-2">Connecter un portail électrique</h1><h5 class="text-sm flex items-center flex-wrap"><svg class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="5" width="16" height="16" rx="2"/><line x1="16" y1="3" x2="16" y2="7"/><line x1="8" y1="3" x2="8" y2="7"/><line x1="4" y1="11" x2="20" y2="11"/><rect x="8" y="15" width="2" height="2"/></svg>
Posté le
01. Janvier 2021
&nbsp;&bull;&nbsp;
<svg class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
5&nbsp;minutes
&nbsp;&bull;
<svg class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 19a9 9 0 019 0 9 9 0 019 0"/><path d="M3 6a9 9 0 019 0 9 9 0 019 0"/><line x1="3" y1="6" x2="3" y2="19"/><line x1="12" y1="6" x2="12" y2="19"/><line x1="21" y1="6" x2="21" y2="19"/></svg>
1008&nbsp;mots</h5><p>Bonjour à tous ! Pour ce premier article dans la série “Connecter sa maison” nous allons nous intéresser à la domotisation d’un portail électrique à télécommande. Nous allons pour cela utiliser un système fait maison, afin d’envoyer un signal à l’automate du portail, afin de commander son ouverture ou sa fermeture depuis un système vocal comme Alexa ou manuellement.</p><h1 id=étude-de-lautomate->Étude de l’automate :</h1><p>Pour commencer, voici une photo de l’automate du portail. On peut voir l’alimentation 220V – 12V tout en haut, ainsi que le fil d’antenne, et en dessous, l’automate en lui même.</p><p><img alt=automate_1 src=/images/2020/12/automate_1c.jpg></p><p>Nous allons nous intéresser tout particulièrement aux borniers du dessous de l’automate : Le bornier d’alimentation et le bornier de signal.</p><p>Le bornier d’alimentation est celui du milieu. On peut y voir une sortie 12V et GND. Ces sorties seront l’alimentation de notre système.</p><p>Le bornier signal est celui tout à droite. Plusieurs fils y sont déjà connectés : c’est l’interrupteur à clé. Nous allons nous brancher en parallèle de cet interrupteur à clé.</p><p>Pour envoyer un signal à cette broche, il faut ponter le GND (-) à la broche B2 pendant 1-2s. ceci déclenche une action au portail : la fermeture ou l’ouverture complète de celui-ci. La broche que nous n’utilisons pas (B1) est pontée en permanence au GND.</p><h1 id=système-de-commande--partie-électronique>Système de commande : partie électronique</h1><p>Afin de réaliser ce pontage, nous allons créer un petit système tout simple, avec un relai électromécanique.</p><p>Fonctionnement d’un relai électromécanique :</p><p><img alt=fonctionnement_relai src=/images/2020/12/relay_principle.png>
<a href=https://circuitdigest.com/article/relay-working-types-operation-applications target=_blank rel=noopener>https://circuitdigest.com/article/relay-working-types-operation-applications</a></p><p>Nous allons contrôler ce système via Wi-Fi, grâce à un microcontrôleur que j’affectionne particulièrement : un ESP8266 !</p><p>Ainsi, nous allons avoir besoin des composants suivants :</p><ul><li><p>1 Node MCU Amica
<img alt=amica_nodemcu src=/images/2020/12/amica_nodemcu.jpg></p></li><li><p>1 Convertisseur de 4 niveaux logiques 2595
<img alt=convertisseur_2595 src=/images/2020/12/convertisseur_2595.jpg></p></li><li><p>1 Relai 5VDC – 220V
<img alt=relay_5v src=/images/2020/12/relay_5v.png></p></li></ul><p>Pour le câblage, nous allons le faire comme à la figure suivante. Personnellement, j’ai utilisé les fils d’une vieille alim d’ordinateur afin de réaliser les connexions.</p><p><img alt=cablage_relai src=/images/2020/12/cablage.png>
Schéma technique de notre système</p><p>On peut sans problème fournir du +12V à l’Amica, puisqu’il possède un régulateur de tension intégré. Cela nous simplifie donc les branchements !</p><p>Le système est fini, électriquement, mais nous n’allons pas l’installer tout de suite.</p><h1 id=système-de-commande--partie-logicielle>Système de commande : partie logicielle</h1><h2 id=téléverser-le-logiciel>Téléverser le logiciel</h2><p>Afin de contrôler ce système, nous allons utiliser le logiciel Tasmota. L’installation de ce logiciel sur notre microcontrôleur est très simple :</p><p>Tout d’abord, il faut télécharger l’utilitaire de téléversement à cette adresse : <a href=https://github.com/tasmota/tasmotizer/releases/ target=_blank rel=noopener>https://github.com/tasmota/tasmotizer/releases/</a></p><p>Ensuite, exécutez l’utilitaire et vous devriez vous retrouver avec cette interface :</p><p><img alt=tasmota_1 src=/images/2020/12/tasmota_1.png></p><p>L’interface de Tasmotizer
Sélectionnez ensuite les options comme ci-dessous :</p><p><img alt=tasmota_2 src=/images/2020/12/tasmota_2.png></p><p>La configuration de Tasmotizer
Puis dans “Select Port”, sélectionnez le port de votre appareil (généralement COM X)</p><p>Cliquez sur “Tasmotize”, et le logiciel est envoyé sur la carte, mais la configuration n’est pas finie !</p><h2 id=configurer-tasmota>Configurer Tasmota</h2><p>Configurer le Wi-Fi
Tout d’abord, connectez-vous au réseau Wi-Fi créé par le microcontrôleur : généralement “TASMOTA-XXXXXXX”, puis entrez les informations de votre réseau Wi-Fi (SSID, Clé réseau).</p><h3 id=configurer-le-relai>Configurer le Relai</h3><p>Pour déclencher une action sur l’automate, nous devons envoyer un signal bref, entre 1 et 2 secondes. Nous allons donc configurer cela, avec dans la tête, le fait que demander cette action à Alexa n’aura pour effet que d’activer le pin de signal, pas de le désactiver.</p><p>Nous allons donc devoir mettre une “règle” qui applique un minuteur pour désactiver le pin 1.5 secondes après son activation.</p><p>Tout d’abord, il faut accéder à la console de l’appareil. Pour ce faire, il faut ouvrir un navigateur, et entrer l’ip de l’appareil :</p><p><img alt=tasmota_3 src=/images/2020/12/tasmota_3.png></p><p>Si tout est câblé correctement, vous devriez pouvoir appuyez sur Toggle 1 ce qui devrait déclencher le relai.</p><p>Vous pouvez ensuite accéder à la console :</p><p><img alt=tasmota_4 src=/images/2020/12/tasmota_4.png></p><p>Dans laquelle il faut entrer la commande :</p><p><code>RULE1 ON POWER1#State=1 DO BACKLOG DELAY 15; POWER1 OFF ENDON Appuyez sur Entrée, et ça y est, votre sortie signal est configurée.</code></p><p>Maintenant il faut que le système puisse être reconnu par Alexa, nous allons donc émuler le fonctionnement d’une ampoule connectée. Il faut donc aller dans les paramètres en cliquant sur “Configuration”.</p><p><img alt=tasmota_5 src=/images/2020/12/tasmota_5.png></p><p>Cliquez sur “Configure other” et activez le paramètre suivant :</p><p><img alt=tasmota_6 src=/images/2020/12/tasmota_6.png></p><p>Cliquez sur “Save” et la configuration est finie côté appareil !</p><h1 id=installer-le-système>Installer le système</h1><h2 id=connexion-au-portail>Connexion au portail</h2><p>Pour installer le système, nous allons utiliser le schéma électrique ci-dessus.</p><p>Pour l’alimentation, nous utilisons le bornier 12v – GND auquel nous branchons les quatre fils (+ Amica/Relai sur le +12V | – Amica/Relai sur le GND)</p><p>On peut ensuite brancher la borne commune (COM) sur la borne B2 de l’automate, et la borne normalement ouverte (NO) sur le GND associé au contact B2.</p><p>Et voilà ! C’est pas plus compliqué que ça pour les branchements !</p><h2 id=configurer-alexa>Configurer Alexa</h2><p>Bon là, pas de surprise, on va faire un ajout d’appareil classique sur l’application Alexa. Rendez vous donc dans votre application :</p><p>Explication en images
Voici la liste d’instruction pour ajouter notre appareil :</p><blockquote><p>Aller dans l’onglet <strong>“Plus”</strong><br>Aller dans <strong>“Ajouter un appareil”</strong><br>Choisir <strong>“Autre”</strong><br>Cliquer sur <strong>“Découvrir des appareils”</strong><br>Ajouter l’appareil nommé <strong>“Tasmota”</strong> par défaut<br>Le renommer dans l’application Alexa \</p></blockquote><p>Maintenant, vous pouvez dire à Alexa “Alexa, ouvre le portail”. Cela permet d’ouvrir mais aussi de fermer le portail. Nous allons créer la routine “Alexa, ferme le portail” afin que cela soit plus intuitif :</p><p>Voici la liste d’instructions pour ajouter la routine :</p><blockquote><p>Aller dans <strong>“Plus”</strong><br>Cliquer sur <strong>“Routines”</strong><br>Appuyer sur le Plus, en haut à droite pour ajouter une routine<br>Mettre <strong>“Voix”</strong> comme déclencheur<br>Écrire la phrase à dire<br>Cliquer sur <strong>“Ajouter une action”</strong><br>Sélectionnez l’appareil<br>Le mettre en <strong>“marche”</strong><br>Sauvegarder et quitter \</p></blockquote><h1 id=conclusion>Conclusion</h1><p>Voilà, le portail à l’origine non connecté, est maintenant contrôlable par Internet et par Alexa ! Si vous avez des questions, ou des suggestions, vous pouvez laisser un commentaire. J’espère que vous avez apprécié la lecture de cet article ! Je vous laisse avec la liste du matériel que j’ai utilisé !</p><p>Liens du matériel
Voici la liste du matériel utilisé pour cet appareil :</p><ul><li><a href=https://www.gotronic.fr/art-module-relais-5-v-gt1080-26130.htm target=_blank rel=noopener>https://www.gotronic.fr/art-module-relais-5-v-gt1080-26130.htm</a></li><li><a href=https://www.gotronic.fr/art-module-nodemcu-esp8266-27744.htm target=_blank rel=noopener>https://www.gotronic.fr/art-module-nodemcu-esp8266-27744.htm</a></li><li><a href=https://www.gotronic.fr/art-convertisseur-de-4-niveaux-logiques-2595-22272.htm target=_blank rel=noopener>https://www.gotronic.fr/art-convertisseur-de-4-niveaux-logiques-2595-22272.htm</a></li></ul><p>Bonne bidouille, et surtout, meilleurs vœux ! Que cette année soit bien meilleure pour tout le monde que 2020 !</p><p>Alexis</p></article><div class="bg-blue-200 dark:bg-gray-900"><div class="container px-4 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center"><div><div class="text-2xl font-bold mb-2">Follow me</div><p class=opacity-60>Passion-driven engineering student</p></div><ul class="flex justify-center gap-x-3 flex-wrap gap-y-2"></ul></div></div></main><footer class="container p-6 mx-auto flex justify-between items-center"><span class="text-sm font-light">Copyright © 2025 - Alexis LEBEL · All rights reserved
</span><span onclick='window.scrollTo({top:0,behavior:"smooth"})' class="p-1 cursor-pointer"><svg width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 15l-6-6-6 6h12"/></svg></span></footer><script>const darkmode=document.querySelector(".toggle-dark-mode");function toggleDarkMode(){document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("darkmode","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("darkmode","dark"))}darkmode&&darkmode.addEventListener("click",toggleDarkMode);const darkStorage=localStorage.getItem("darkmode"),isBrowserDark=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;!darkStorage&&isBrowserDark&&document.documentElement.classList.add("dark"),darkStorage&&darkStorage==="dark"&&toggleDarkMode()</script><script>const mobileMenuButton=document.querySelector(".mobile-menu-button"),mobileMenu=document.querySelector(".mobile-menu");function toggleMenu(){mobileMenu.classList.toggle("hidden"),mobileMenu.classList.toggle("flex")}mobileMenu&&mobileMenuButton&&mobileMenuButton.addEventListener("click",toggleMenu)</script></body></html>