<!doctype html><html lang=fr itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=/favicon.svg><title>Comment avoir une radio synchronisée sur plusieurs postes - Alestrio
</title><meta name=description content="Si vous travaillez avec une web radio, sur plusieurs postes en même temps, ou dans plusieurs pièces différentes, vous vous êtes déjà sûrement confronté au problème de la radio qui a un décalage sur les différents postes. Si ce n’est pas le cas, eh bien moi oui ! Je vais du coup vous expliquer comment j’ai réussi à faire en sorte que la radio soit parfaitement synchronisée entre plusieurs postes/pièces."><meta name=author content="Alexis LEBEL"><meta name=generator content="Hugo 0.129.0"><link rel=stylesheet href="https://www.alexislebel.fr/css/styles.min.bc90fa55d1ba6b52213b3c8bedc8b3ffc8578d91dcd3927072f8e1c7e7cc77cf.css"><meta property="og:url" content="https://www.alexislebel.fr/fr/blog/synchro_radio/"><meta property="og:site_name" content="Alestrio"><meta property="og:title" content="Comment avoir une radio synchronisée sur plusieurs postes"><meta property="og:description" content="Si vous travaillez avec une web radio, sur plusieurs postes en même temps, ou dans plusieurs pièces différentes, vous vous êtes déjà sûrement confronté au problème de la radio qui a un décalage sur les différents postes. Si ce n’est pas le cas, eh bien moi oui ! Je vais du coup vous expliquer comment j’ai réussi à faire en sorte que la radio soit parfaitement synchronisée entre plusieurs postes/pièces."><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2020-11-04T00:00:00+00:00"><meta property="article:modified_time" content="2020-11-04T00:00:00+00:00"><meta property="article:tag" content="Synchro"><meta property="article:tag" content="Radio"><meta property="article:tag" content="Icecast"><meta name=twitter:card content="summary"><meta name=twitter:title content="Comment avoir une radio synchronisée sur plusieurs postes"><meta name=twitter:description content="Si vous travaillez avec une web radio, sur plusieurs postes en même temps, ou dans plusieurs pièces différentes, vous vous êtes déjà sûrement confronté au problème de la radio qui a un décalage sur les différents postes. Si ce n’est pas le cas, eh bien moi oui ! Je vais du coup vous expliquer comment j’ai réussi à faire en sorte que la radio soit parfaitement synchronisée entre plusieurs postes/pièces."><meta itemprop=name content="Comment avoir une radio synchronisée sur plusieurs postes"><meta itemprop=description content="Si vous travaillez avec une web radio, sur plusieurs postes en même temps, ou dans plusieurs pièces différentes, vous vous êtes déjà sûrement confronté au problème de la radio qui a un décalage sur les différents postes. Si ce n’est pas le cas, eh bien moi oui ! Je vais du coup vous expliquer comment j’ai réussi à faire en sorte que la radio soit parfaitement synchronisée entre plusieurs postes/pièces."><meta itemprop=datePublished content="2020-11-04T00:00:00+00:00"><meta itemprop=dateModified content="2020-11-04T00:00:00+00:00"><meta itemprop=wordCount content="931"><meta itemprop=keywords content="Synchro,Radio,Icecast"><meta name=lang content="fr"></head><body class="dark:bg-gray-800 dark:text-white relative flex flex-col min-h-screen"><header class="container flex justify-between md:justify-between gap-4 flex-wrap p-6 mx-auto relative"><a href=https://www.alexislebel.fr/fr/ class="capitalize font-extrabold text-2xl">Alestrio
</a><button class="mobile-menu-button md:hidden"><svg width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="8" x2="20" y2="8"/><line x1="4" y1="16" x2="20" y2="16"/></svg></button><ul class="mobile-menu absolute z-10 px-6 pb-6 md:p-0 top-full left-0 w-full md:w-auto md:relative hidden md:flex flex-col md:flex-row items-end md:items-center gap-4 lg:gap-6 bg-white dark:bg-gray-800"><li><a href=/fr/blog>Blog</a></li><li><a href=/fr/page/about/>A propos de moi</a></li><li><a href=/fr/page/legal>Mentions légales</a></li><li class="flex items-center"><svg class="mr-2" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><line x1="3.6" y1="9" x2="20.4" y2="9"/><line x1="3.6" y1="15" x2="20.4" y2="15"/><path d="M11.5 3a17 17 0 000 18"/><path d="M12.5 3a17 17 0 010 18"/></svg>
<a href=/en/ lang=en>English</a></li><li class="grid place-items-center"><span class="toggle-dark-mode inline-block cursor-pointer"><svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="3"/><line x1="12" y1="5" x2="12" y2="5.01"/><line x1="17" y1="7" x2="17" y2="7.01"/><line x1="19" y1="12" x2="19" y2="12.01"/><line x1="17" y1="17" x2="17" y2="17.01"/><line x1="12" y1="19" x2="12" y2="19.01"/><line x1="7" y1="17" x2="7" y2="17.01"/><line x1="5" y1="12" x2="5" y2="12.01"/><line x1="7" y1="7" x2="7" y2="7.01"/></svg></span></li></ul></header><main class=flex-1><div class="relative max-w-5xl mx-auto px-4"><img src=/images/2020/11/radio_thumb.jpg class="rounded-lg shadow-sm w-full object-contain"><div class="absolute top-4 right-8 rounded shadow bg-white text-gray-900 dark:bg-gray-900 dark:text-white px-2 py-0.5">04. Novembre 2020</div></div><article class="prose lg:prose-lg mx-auto my-8 dark:prose-dark px-4"><h1 class="text-2xl font-bold mb-2">Comment avoir une radio synchronisée sur plusieurs postes</h1><h5 class="text-sm flex items-center flex-wrap"><svg class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="5" width="16" height="16" rx="2"/><line x1="16" y1="3" x2="16" y2="7"/><line x1="8" y1="3" x2="8" y2="7"/><line x1="4" y1="11" x2="20" y2="11"/><rect x="8" y="15" width="2" height="2"/></svg>
Posté le
04. Novembre 2020
&nbsp;&bull;&nbsp;
<svg class="mr-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
5&nbsp;minutes
&nbsp;&bull;
<svg class="mx-1" width="16" height="16" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 19a9 9 0 019 0 9 9 0 019 0"/><path d="M3 6a9 9 0 019 0 9 9 0 019 0"/><line x1="3" y1="6" x2="3" y2="19"/><line x1="12" y1="6" x2="12" y2="19"/><line x1="21" y1="6" x2="21" y2="19"/></svg>
931&nbsp;mots</h5><p>Si vous travaillez avec une web radio, sur plusieurs postes en même temps, ou dans plusieurs pièces différentes, vous vous êtes déjà sûrement confronté au problème de la radio qui a un décalage sur les différents postes. Si ce n’est pas le cas, eh bien moi oui ! Je vais du coup vous expliquer comment j’ai réussi à faire en sorte que la radio soit parfaitement synchronisée entre plusieurs postes/pièces.</p><h1 id=faire-son-propre-serveur-web-radio>Faire son propre serveur web radio</h1><h2 id=spoiler--cest-pas-synchro-mais-cest-intéressant>(spoiler : c’est pas synchro, mais c’est intéressant)</h2><p>Tout d’abord, comme dans la totalité de cet article, nous allons adopter une architecture client/serveur. Bien sûr, le client et le serveur peuvent être sur la même machine, mais pour un besoin de clarté, ces deux entités seront séparées. Le serveur que nous allons utiliser est une serveur Debian.</p><p>Ma première idée était de redistribuer le flux radio, en utilisant un serveur <strong>icecast2</strong>, ce qui permet d’éliminer la latence liée à l’utilisation de flux autres.</p><p>Tout d’abord, il faut installer le serveur :</p><p><code>sudo apt install icecast2</code></p><p>Puis nous éditons le fichier de configuration :</p><p><code>sudo nano /etc/icecast2/icecast.xml</code></p><p>Imaginons que nous voulons redistribuer la radio RTL en 128kbps, le fichier de configuration aura donc :</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#ff79c6>&lt;relay&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&lt;server&gt;</span>icecast.rtl.fr<span style=color:#ff79c6>&lt;/server&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&lt;port&gt;</span>80<span style=color:#ff79c6>&lt;/port&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&lt;mount&gt;</span>/rtl-1-44-128<span style=color:#ff79c6>&lt;/mount&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&lt;local-mount&gt;</span>/rtl<span style=color:#ff79c6>&lt;/local-mount&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&lt;on-demand&gt;</span>0<span style=color:#ff79c6>&lt;/on-demand&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>&lt;relay-shoutcast-metadata&gt;</span>0<span style=color:#ff79c6>&lt;/relay-shoutcast-metadata&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff79c6>&lt;/relay&gt;</span>
</span></span></code></pre></div><p>Et voilà, il suffit de se connecter avec vlc à l’adresse <a href=http://ip.du.serveur.local:8000/rtl target=_blank rel=noopener>http://ip.du.serveur.local:8000/rtl</a>
dans le cas où l’on a gardé la configuration par défaut du serveur icecast2.</p><p>Mais malheureusement, cette solution n’était pas la bonne, car latence il y avait..</p><h1 id=bien-configurer-vlc>Bien configurer VLC</h1><p>J’ai donc essayé autre chose. En partant du fait que la latence était du tampon, eh bien j’ai enlevé le tampon !</p><p>Dans VLC, il faut se rendre dans les paramètres, puis cliquer sur “Tous”, aller dans Entrée/CODEC et on trouve l’option “Cache réseau”, que l’on passe à 0.</p><p>Mais évidement, ce n’était pas la solution, car toujours, latence il y avait. Mais après quelques recherches, je suis arrivé à une bien meilleure solution. Mais d’abord, un peu de théorie.</p><h1 id=théorie-sur-les-réseaux-ip>Théorie sur les réseaux IP</h1><p>Les adresses IP sur Internet sont séparées en plusieurs classes comme ci-dessous :</p><table><thead><tr><th style=text-align:center>Classe</th><th style=text-align:center>Début</th><th style=text-align:center>Fin</th><th style=text-align:center>Notation CIDR par défaut</th><th style=text-align:center>Masque de sous-réseau</th></tr></thead><tbody><tr><td style=text-align:center>Classe A</td><td style=text-align:center>0.0.0.0</td><td style=text-align:center>126.255.255.255</td><td style=text-align:center>/8</td><td style=text-align:center>255.0.0.0</td></tr><tr><td style=text-align:center>Classe B</td><td style=text-align:center>128.0.0.0</td><td style=text-align:center>191.255.255.255</td><td style=text-align:center>/16</td><td style=text-align:center>255.255.0.0</td></tr><tr><td style=text-align:center>Classe C</td><td style=text-align:center>192.0.0.0</td><td style=text-align:center>223.255.255.255</td><td style=text-align:center>/24</td><td style=text-align:center>255.255.255.0</td></tr><tr><td style=text-align:center>Classe D (<strong>multicast</strong>)</td><td style=text-align:center>224.0.0.0</td><td style=text-align:center>239.255.255.255</td><td style=text-align:center>/32</td><td style=text-align:center>255.255.255.255</td></tr><tr><td style=text-align:center>Classe E (<strong>réservée</strong>)</td><td style=text-align:center>240.0.0.0</td><td style=text-align:center>255.255.255.255</td><td style=text-align:center>-</td><td style=text-align:center>-</td></tr></tbody></table><p>Les trois premières classes sont les classes d’IP qui sont attribuables sur Internet. Dans ces classes, on trouve des réseaux réservés :</p><p>Classe A
<code>10.0.0.0/8</code> pour des grands réseaux locaux
<code>127.0.0.0/8</code> pour les bouclages locaux (retour direct à la machine, ex: 127.0.0.1 équivalent à localhost)</p><p>Classe B
<code>172.16.0.0/12</code> pour des réseaux locaux (maxi 172.31.255.255)</p><p>Classe C
<code>192.168.0.0/16</code> pour des réseaux locaux (maxi 192.168.255.255)</p><p>Et maintenant la classe qui nous intéresse : la classe D, réservée au multicast.</p><p>Le multicast, c’est un type de communication qui va d’une machine, à plusieurs machines en même temps. Il s’oppose au traditionnel unicast (les classes A, B et C), qui correspond à une communication d’une seule machine à une seule autre.</p><p>Eh bien ce type d’adresse multicast, c’est exactement ce qu’il nous faut !</p><p>Ces adresses vont de <code>224.0.0.0</code> à <code>239.255.255.255</code>, ce qui fait 268 435 456 adresses possibles. Nous allons taper dans le tas et prendre l’adresse 239.1.1.1 (parce que facile à retenir, et j’ai vu qu’aucun protocole ni programme n’utilise cette adresse)</p><h1 id=faire-une-diffusion-en-multicast-du-flux-radio-avec-vlc>Faire une diffusion en multicast du flux radio avec VLC</h1><p>Bon maintenant qu’on a posé un peu les bases, passons à la pratique ! Nous allons utiliser l’architecture ci-dessous :</p><p>Tout d’abord, on va installer VLC sur notre serveur :</p><p><code>sudo apt install vlc</code></p><p>Puis nous allons démarrer une diffusion du flux de RTL en 128kbps, sur l’adresse multicast 239.1.1.1 :</p><p><code>cvlc -vvv http://streaming.radio.rtl.fr/rtl-1-44-128 --sout '#rtp{dst=239.1.1.1,port=5004,mux=ts}'</code></p><p>Bon, expliquons cette commande un peu barbare :</p><ul><li><strong>cvlc</strong> est le nom de l’exécutable de VLC en ligne de commande</li><li>l’option <strong>vvv</strong> permet de dire que l’on veut faire une diffusion</li><li>l’adresse du flux source</li><li>la description du flux de destination :<ul><li>#<strong>rtp</strong> qui est le protocole &ldquo;Real Time Protocole&rdquo; utilisé pour de la diffusion audio et vidéo</li><li><strong>dst</strong> : notre adresse de destination</li><li><strong>port</strong> : le port de destination. Ici 5004, qui est le port par défaut du protocole RTP</li><li><strong>mux</strong> : dans le cas où de la vidéo est diffusée en même temps (pas notre cas ici)</li></ul></li></ul><p>Maintenant, si l’on veut faire cette diffusion au démarrage du serveur, il faut :</p><p>Aller dans le fichier de démarrage :</p><p><code>sudo nano /etc/rc.local</code></p><p>Mettre la commande écrite ci-dessus au dessus du exit 0 dans le fichier, sauver, et quitter.</p><h1 id=et-maintenant-il-faut-tester->Et maintenant, il faut tester !</h1><h2 id=jouer-la-diffusion-sur-un-poste-client>Jouer la diffusion sur un poste client</h2><p>Pour cela deux solutions : la solution propre, et la solution de test.</p><h3 id=la-solution-test>La solution test</h3><p>Pour tester votre flux, il suffit, sur vlc, d’aller dans “Média”, puis “Ouvrir un flux réseau…”, et dans la fenêtre qui s’ouvre, mettre l’adresse qui nous intéresse, précédée de son protocole : <code>rtp://239.1.1.1</code> Et voilà, si tout est bien fait, le flux est joué, et si vous le jouez sur un autre poste, il est parfaitement synchronisé !</p><h3 id=la-solution-propre>La solution propre</h3><p>Pour un déploiement en situation réelle, pour une utilisation quotidienne simple, il suffit de créer un fichier texte avec l’extension .m3u, avec pour contenu :</p><p><code>rtp://239.1.1.1</code></p><p>Plus qu’à enregistrer, et votre fichier pour jouer la diffusion est prêt !</p><h1 id=conclusion>Conclusion</h1><p>Pour conclure, nous avons vu les différentes approches que j&rsquo;ai testé pour faire une diffusion radio en simultané sur plusieurs postes. A noter qu&rsquo;il faut un solid réseau pour que cela fonctionne bien ;)</p><p>Bonne bidouille !</p></article><div class="bg-blue-200 dark:bg-gray-900"><div class="container px-4 py-12 mx-auto max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center"><div><div class="text-2xl font-bold mb-2">Follow me</div><p class=opacity-60>Passion-driven engineering student</p></div><ul class="flex justify-center gap-x-3 flex-wrap gap-y-2"></ul></div></div></main><footer class="container p-6 mx-auto flex justify-between items-center"><span class="text-sm font-light">Copyright © 2025 - Alexis LEBEL · All rights reserved
</span><span onclick='window.scrollTo({top:0,behavior:"smooth"})' class="p-1 cursor-pointer"><svg width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 15l-6-6-6 6h12"/></svg></span></footer><script>const darkmode=document.querySelector(".toggle-dark-mode");function toggleDarkMode(){document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("darkmode","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("darkmode","dark"))}darkmode&&darkmode.addEventListener("click",toggleDarkMode);const darkStorage=localStorage.getItem("darkmode"),isBrowserDark=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;!darkStorage&&isBrowserDark&&document.documentElement.classList.add("dark"),darkStorage&&darkStorage==="dark"&&toggleDarkMode()</script><script>const mobileMenuButton=document.querySelector(".mobile-menu-button"),mobileMenu=document.querySelector(".mobile-menu");function toggleMenu(){mobileMenu.classList.toggle("hidden"),mobileMenu.classList.toggle("flex")}mobileMenu&&mobileMenuButton&&mobileMenuButton.addEventListener("click",toggleMenu)</script></body></html>